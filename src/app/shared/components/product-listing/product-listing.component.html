
<section class="latest-blog-area style-three sec-padding mt-5">
    <div class="container">
        <div *ngIf="fromHome" class="sec-title text-center">
            <h1>المتجر</h1>
            <span class="border center"></span>
        </div>
        <div class="row " style="justify-content: start;">
            <div *ngFor="let prod of productArr" class="col-md-4">
                <div class="single-blog-item">
                    <div class="img-holder">
                        <img src="https://localhost:7285/{{prod.image}}" alt="Awesome Image">
                        <div class="overlay-style-one">
                            <div class="box">
                                <div class="content">
                                    <h1 style="color: white;" >{{prod.price}}EGP</h1>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-holder">
                        <a >
                            <h3 class="blog-title">{{prod.name}}</h3>
                        </a>
                        <div class="text">
                            <p>{{prod.descriptions}}</p>
                        </div>
                        <ul class="meta-info">
                            <button (click)="openPaymentModal(paymentModal,prod)" class="btn btn-primary">Buy</button>
                        </ul>
                    </div>    
                </div>    
            </div>
           
        </div>
    </div>
</section>

<ng-template #paymentModal let-modal>
    <div class="modal-content" dir="ltr">
        <div class="modal-header" style="justify-content: center">
          <h4 class="modal-title" id="modal-basic-title">
            Payment
          </h4>
        </div>
        <div class="modal-body text-center">
            <div>
                <ngx-braintree 
                    [clientTokenURL]="'https://localhost:7285/api/premium/GenerateToken'" 
                    [createPurchase] = "createPurchase"
                    [chargeAmount]="55.55"
                    (paymentStatus)="onPaymentStatus($event)">
                </ngx-braintree>
                
            </div>
        </div>
    </div>
</ng-template>